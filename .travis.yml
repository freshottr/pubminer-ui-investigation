language: node_js

node_js:
  - 9.11.1

cache:
  directories:
    - ~/.npm
    - node_modules

install:
  - npm install
  - npm install cypress --save-dev

before_script:
  - npm start -- --silent &
  - sleep 5
  - cypress verify

script:
  - $(npm bin)/cypress run  --spec cypress/integration/search_spec.js
